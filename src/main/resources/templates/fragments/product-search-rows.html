<th:block xmlns:th="http://www.thymeleaf.org">
    <th:block th:if="${!searchPerformed}">
        <tr>
            <td colspan="7" class="table-empty">
                Start typing to search for a product by title.
            </td>
        </tr>
    </th:block>

    <th:block th:if="${searchPerformed}">
        <th:block th:if="${#lists.isEmpty(products)}">
            <tr>
                <td colspan="7" class="table-empty">
                    <wa-icon name="info-circle" style="margin-right: var(--wa-space-s);"></wa-icon>
                    No products found for "<span th:text="${searchTerm}">query</span>".
                </td>
            </tr>
        </th:block>

        <tr th:each="product : ${products}">
            <td>
                <a class="product-title" th:href="@{/products/{id}(id=${product.id})}"
                   th:text="${product.title}">Product Title</a>
            </td>
            <td>
                <span class="product-handle" th:text="${product.handle}">product-handle</span>
            </td>
            <td>
                <span class="product-price">
                    <span class="product-price__value" th:text="${product.price}">0.00</span>
                    <span class="product-price__currency">NOK</span>
                </span>
            </td>
            <td>
                <span class="product-variants" th:text="${#lists.size(product.variants)} + ' variants'">0 variants</span>
            </td>
            <td>
                <span th:if="${product.productType != null}" class="product-type-badge" th:text="${product.productType}">Product Type</span>
                <span th:if="${product.productType == null}" class="product-type-empty">N/A</span>
            </td>
            <td>
                <span class="product-created" th:text="${product.createdAt != null ? #temporals.format(product.createdAt, 'yyyy-MM-dd') : 'N/A'}">2024-01-01</span>
            </td>
            <td class="table-actions">
                <wa-button variant="danger"
                           th:attr="hx-post=@{/products/{id}/delete(id=${product.id})}"
                           hx-target="#search-results tbody"
                           hx-swap="innerHTML"
                           hx-include="#product-search-form"
                           hx-confirm="Are you sure you want to delete this product?">
                    <wa-icon name="trash" slot="prefix"></wa-icon>
                    Delete
                </wa-button>
            </td>
        </tr>
    </th:block>

    <th:block th:if="${matchCount != null}">
        <span id="match-count" hx-swap-oob="innerHTML" th:text="${matchCount}">0</span>
    </th:block>
</th:block>
